## サードパーティツールの使用ガイド

この文書ではサードパーティツールでNHN Cloudオブジェクトストレージサービスを使用する方法を説明します。

## Cyberduck

Cyberduckはオープンソースのクラウドストレージブラウザです。

### Cyberduckのインストール

[Cyberduckダウンロードページ](https://cyberduck.io/download/)から使用しているOSに合ったインストールファイルをダウンロードしてインストールします。

### オブジェクトストレージの接続設定

オブジェクトストレージに接続するには、接続情報を保存するブックマークを作成する必要があります。ブラウザ上部の**新しい接続**をクリックした後、ドロップダウンメニューから**OpenStack Swift (Keystone 2.0)**を選択します。必要な情報を入力した後、接続をクリックすると新しいブックマークが作成されます。

<table class="it" style="padding-top: 15px; padding-bottom: 10px;">
  <tr>
    <th>項目</th>
    <th>説明</th>
  </tr>
  <tr>
    <td>別名</td>
    <td>ブックマークのエイリアスです。好きな値を自由に設定できます。</td>
  </tr>
  <tr>
    <td>サーバー</td>
    <td><b>アイデンティティサービス(identity)</b>のアドレスです。オブジェクトストレージサービスページの <b>API Endpoint設定</b> ダイアログボックスで確認できます。</td>
  </tr>
  <tr>
    <td rowspan="2">Tenant ID:Access Key</td>
    <td><b>Tenant ID</b>：ユーザーのプロジェクトIDです。Webコンソールの <b>プロジェクト管理 > プロジェクト基本情報</b>で確認できます。</td>
  </tr>
  <tr>
    <td><b>Access ID</b>: NHN Cloud会員ID(メール形式)またはIAMメンバーIDを入力します。</td>
  </tr>
  <tr>
    <td>Secret Key</td>
    <td>オブジェクトストレージサービスページの <b>API Endpoint設定</b> ダイアログボックスで設定したAPIパスワードを入力します。</td>
  </tr>
</table>

> [参考]
> APIパスワードの設定方法はAPIガイドの[APIパスワード設定](api-guide/#api)項目を参照してください。

### オブジェクトストレージの接続

接続するブックマークをダブルクリックしてオブジェクトストレージに接続します。

### コンテナ/オブジェクトの照会

オブジェクトストレージに接続すると、**すべてのリージョン**のコンテナリストがブラウザに表示されます。コンテナをダブルクリックしてコンテナのオブジェクトリストを照会できます。

> [参考]
> 異なるリージョンに同じ名前のコンテナがある場合、同じ名前のコンテナが複数表示されます。
> メニューから**表示 > 列 > 地域**を選択すると、列項目にリージョンを表示できます。

### コンテナの作成

コンテナリストの空きスペースで右クリックし、**新規フォルダ...**を選択して新しいコンテナを作成できます。コンテナの名前とリージョンを入力し、**作成**をクリックすると、コンテナが作成されます。

> [参考]
> コンテナリストの空きスペースで右クリックし、**再表示**を選択すると、コンテナリストを更新できます。

### オブジェクトのアップロード

コンテナを選択した後、ブラウザ上部の**アクション** > **アップロード...**をクリックするか、オブジェクトリストで右クリックした後、**アップロード。..**をクリックしてファイルを選択してアップロードします。

> [参考]
> Cyberduckでフォルダをアップロードまたは作成すると、フォルダ名と同じ0バイトのオブジェクトがもう一つ作成されます。これはコンソールまたはオブジェクトストレージAPIで確認でき、削除しても構いません。

### オブジェクトのダウンロード

ダウンロードするオブジェクトを選択した後、右クリックして**ダウンロード**を選択します。ドラッグ＆ドロップでオブジェクトをダウンロードすることもできます。

> [参考]
> オブジェクトをダウンロードすると、基本的にローカルの**ダウンロード**フォルダに保存されます。右クリックして**指定した場所にダウンロード**を選択すると、指定したパスにダウンロードできます。
> オブジェクトをアップロードまたはダウンロードすると、**転送**ウィンドウがポップアップして進行状況を把握できます。

### コンテナの削除

削除するコンテナを選択し、右クリックして**削除**を選択します。

> [注意]
> コンテナを削除すると、、コンテナ内のオブジェクトも全て削除されるので注意が必要です。

### オブジェクトの削除

削除するオブジェクトを選択し、右クリックして**削除**を選択します。

### フォルダ同期

ローカルフォルダをコンテナまたはフォルダと同期できます。コンテナまたはフォルダを選択した後、右クリックして**同期**を選択します。
フォルダ同期は、ダウンロード、アップロード、ミラーリングの3つの方法を提供します。

#### ダウンロード

オブジェクトストレージで変更または追加されたオブジェクトをローカルにダウンロードします。

#### アップロード

ローカルで変更または追加されたファイルをオブジェクトストレージにアップロードします。

#### ミラー

ローカルとオブジェクトストレージを比較して変更または不足しているファイルまたはオブジェクトをアップロードまたはダウンロードします。

> [参考]
> 同期の詳細については[CyberduckのSynchronize Folders](https://docs.cyberduck.io/cyberduck/sync/#synchronize-folders)文書を参照してください。

## SwiftStack Client

SwiftStack ClientはオブジェクトストレージプラットフォームSwiftStackに含まれるクライアントです。

### SwiftStack Clientのインストール

[SwiftStack Client Webページ](https://platform.swiftstack.com/docs/install/swiftstack_client.html)で使用中のOSに合ったインストールファイルをダウンロードしてインストールします。

### オブジェクトストレージの接続設定

#### アカウント(Account)登録

オブジェクトストレージに接続するには、接続情報を保存するアカウントを登録する必要があります。ブラウザ左側の**Accounts**をクリックすると、アカウントを登録して管理できるインターフェースが表示されます。**Add account**をクリックしてアカウントを登録できます。必要な情報を入力して下部の**Save**をクリックすると、アカウントが登録されます。

| 項目 | 説明 |
|---|---|
| Auth Type | **V2**を選択します。 |
| Username | NHN Cloud会員ID(メール形式)またはIAMメンバーIDを入力します。 |
| Password | オブジェクトストレージサービスページの**API Endpoint設定**ダイアログボックスで設定したAPIパスワードを入力します。 |
| Auth URL | オブジェクトストレージサービスページの**API Endpoint設定**ダイアログボックスで確認した**アイデンティティサービス(identity)**のアドレスの後に`/tokens`を付けて力します。 |
| Project Name | ユーザーのProject IDです。<br/> Webコンソールの <b>プロジェクト管理 > プロジェクト基本情報 > プロジェクトID</b>で確認できます。 |
| Region | 使用するリージョンを選択します。 |

> [参考]
> APIパスワードの設定方法はAPIガイドの[APIパスワード設定](api-guide/#api)項目を参照してください。
> 入力値が正しくない場合、Regionを選択した時にエラーが発生します。

### オブジェクトストレージの接続

作成したアカウントをダブルクリックしてオブジェクトストレージに接続します。

### コンテナ/オブジェクトの照会

オブジェクトストレージに接続すると、設定したリージョンのコンテナリストがブラウザに表示されます。コンテナをダブルクリックすると、コンテナのオブジェクトリストを照会できます。

### コンテナの作成

ブラウザ上部の**Add Container** > **Edit Before Creation**をクリックして、ダイアログボックスでコンテナ名を入力します。名前を入力した後、下部の**Create**をクリックしてコンテナを作成します。

> [参考]
> ブラウザ上部の**Refresh**をクリックしてコンテナリストを更新できます。

### オブジェクトのアップロード

オブジェクトをアップロードするコンテナでブラウザ上部の**Upload**をクリックすると、アップロードダイアログボックスが表示されます。**Choose File(s)**をクリックしてファイルを選択し、**Upload**をクリックすると、選択したファイルをアップロードできます。

> [参考]
> 2つ以上のファイルを選択すると、アップロードダイアログボックスの**Object Name Prefix**項目でオブジェクト名にプレフィックスを付けることができます。

### フォルダのダウンロード

**Virtual Folder** オブジェクトの右側の**Actions**アイコンのうち**Download**アイコンをクリックすると、選択したフォルダと内部のすべてのオブジェクトをダウンロードできます。複数のフォルダを一度にダウンロードするには、リストから目的のフォルダをチェックした後、ブラウザ上部の**Selection** > **Download**をクリックします。

### オブジェクトのダウンロード

オブジェクト名をクリックすると、オブジェクトを一つダウンロードできます。複数のオブジェクトを一度にダウンロードするには、リストから目的のオブジェクトをチェックした後、ブラウザ上部の**Selection** > **Download**をクリックします。

### TempURLs

オブジェクト右側の**Actions**アイコンのうち**Copy Quick Temporary URL**アイコンをクリックすると、使用期限のあるアクセスURLがクリップボードにコピーされます。このURLを利用してハイパーリンクを作成したり、オブジェクトを直接ダウンロードしたりできます。
TempURLの基本使用期限は24時間で、ブラウザ上部の**Temp URLs**をクリックして変更できます。

> [注意]
> TempURLを持っている人は誰でも期限内にオブジェクトをダウンロードできます。

### コンテナの削除

コンテナ項目右側の**Actions**アイコンのうち**Delete Container**アイコンをクリックすると、目的のコンテナを削除できます。

> [注意]
> コンテナを削除すると、、コンテナ内のオブジェクトも全て削除されるので注意が必要です。

### オブジェクトの削除

オブジェクト項目右側の**Actions**アイコンのうち**Delete Object**アイコンをクリックすると、目的のオブジェクトを削除できます。複数のオブジェクトを一度に削除するには、リストから目的のオブジェクトをチェックした後、ブラウザ上部の**Selection** > **Delete**をクリックします。

## 参考サイト
Cyberduck - [https://docs.cyberduck.io/cyberduck/](https://docs.cyberduck.io/cyberduck/)
SwiftStack Client - [https://platform.swiftstack.com/docs/install/swiftstack_client.html](https://platform.swiftstack.com/docs/install/swiftstack_client.html)
