## Storage > Object Storage > コンソール使用ガイド

## コンテナ
### コンテナ作成
コンテナを作成します。オブジェクトストレージにオブジェクトをアップロードするには1つ以上のコンテナが必要です。

<table class="it" style="padding-top: 15px; padding-bottom: 10px;">
  <tr>
    <th>項目</th>
    <th>説明</th>
  </tr>
  <tr>
    <td>名前</td>
    <td>コンテナ名は英字256文字、日本語85文字に制限されます。</td>
  </tr>
  <tr>
    <td rowspan="2">コンテナアクセスポリシー</td>
    <td><b>PRIVATE</b>：許可されたユーザーのみコンテナ内部のオブジェクトにアクセスできます。</td>
  </tr>
  <tr>
    <td><b>PUBLIC</b>：公開URLから誰でもコンテナ内部のオブジェクトにアクセスできます。</td>
  </tr>
  <tr>
    <td>ストレージクラス</td>
    <td><b>Standard</b>：基本クラスです。</td>
  </tr>  
</table>

### コンテナ削除
選択したコンテナを削除します。コンテナを削除する前にコンテナが空になっているかを確認する必要があります。コンテナ内にオブジェクトが残っている場合は削除できません。

### コンテナ詳細情報
選択したコンテナの詳細情報を照会します。コンテナの基本情報と設定などの情報を確認できます。

### コンテナ設定
選択したコンテナの設定を変更します。

<table class="it" style="padding-top: 15px; padding-bottom: 10px;">
  <tr>
    <th>分類</th>
    <th>項目</th>
    <th>説明</th>
  </tr>
  <tr>
    <td rowspan="3">基本設定</td>
    <td rowspan="2">コンテナアクセスポリシー</td>
    <td><b>PRIVATE</b>：許可されたユーザーのみコンテナ内部のオブジェクトにアクセスできます。</td>
  </tr>
  <tr>
    <td><b>PUBLIC</b>：公開URLから誰でもコンテナ内部のオブジェクトにアクセスできます。</td>
  </tr>
  <tr>
    <td>オブジェクトのライフサイクル</td>
    <td>オブジェクトのライフサイクルを日単位で入力します。空欄にするとライフサイクル設定が解除されます。<br/>
  オブジェクトライフサイクルを設定したコンテナにアップロードしたオブジェクトは、設定したライフサイクルが経過すると自動的に削除されます。</td>
  </tr>

  <tr>
    <td rowspan="3">オブジェクト<br/>バージョン管理ポリシー</td>
    <td>バージョン管理ポリシー</td>
    <td>バージョン管理ポリシーを使用に設定すると、コンテナに保存されたオブジェクトをアップデートする時、指定したコンテナに以前のバージョンを保管できます。</td>
  </tr>
  <tr>
    <td>アーカイブコンテナ</td>
    <td>オブジェクトの以前のバージョンを保管するコンテナを入力します。</td>
  </tr>
  <tr>
    <td>アーカイビングオブジェクト<br/>ライフサイクル</td>
    <td>オブジェクトの以前のバージョンのライフサイクルを日単位で入力します。空欄にするとライフサイクル設定が解除されます。<br/>
   ライフサイクルが設定された後に保管されたオブジェクトの以前のバージョンは、設定されたライフサイクルが経過すると自動的に削除されます。</td>
  </tr>  
  <tr>
    <td rowspan="5">静的Webサイト設定</td>
    <td>インデックス文書</td>
    <td>静的Webサイトのインデックス文書オブジェクトを入力します。オブジェクトがフォルダ内にある場合、フォルダパスを含めて入力する必要があります。<br/>最大1024バイト、英数字、一部の特殊文字(<code>-</code>, <code>_</code>, <code>.</code>, <code>/</code>)のみ入力できます。</td>
  </tr>
  <tr>
    <td>エラー文書</td>
    <td>静的Webサイトのエラー文書オブジェクトのサフィックス(suffix)を入力します。エラー文書のサフィックスにはフォルダパスを含められません。<br/>最大1024バイト、英数字、一部の特殊文字(<code>-</code>, <code>_</code>, <code>.</code>, <code>/</code>)のみ入力できます。</td>
  </tr>
</table>

> [注意]
バージョン管理ポリシーを設定している場合、アーカイブコンテナを原本コンテナより先に削除してはいけません。原本コンテナのオブジェクトをアップデートまたは削除する時、アーカイブコンテナに以前のバージョンを保存することができず、エラーが発生します。アーカイブコンテナを先に削除してエラーが発生する場合は、アーカイブコンテナを新たに作成するか、原本コンテナのバージョン管理ポリシーを解除して問題を解決できます。

<br/>

> [参考]
> コンテナのアクセスポリシーを**PUBLIC**に設定し、インデックス文書とエラー文書を入力すると、コンテナで静的Webサイトのホスティングを行えます。
>
> 静的WebサイトURLはコンテナリストで`URLコピー`ボタンを押すと取得できます。
>
> 静的Webサイトのインデックス文書、エラー文書に使用するオブジェクトは、1つ以上の英字、数字または一部特殊文字(`-`, `_`, `.`, `/`)で構成された名前を持っていなければならず、`html`拡張子を持つハイパーテキスト形式である必要があります。この条件を満たさない場合は、設定できなかったり、静的Webサイトが動作しない場合があります。
>
> 静的Webサイトのエラー文書名は`{エラーコード}{サフィックス}`です。例えばエラー文書を`error.html`に設定している場合、404エラーが発生した時に表示されるエラー文書の名前は`404error.html`になります。各エラーの状況に合わせてエラー文書をアップロードして使用できます。エラー文書を定義していなかったり、エラーコードに合ったエラー文書オブジェクトがない場合はWebブラウザの基本エラー文書が表示されます。


## オブジェクト
### フォルダ作成
フォルダを作成します。フォルダはコンテナのオブジェクトをグループにまとめるための仮想の単位です。WindowsのフォルダやLinuxのディレクトリと同じように階層構造でオブジェクトを管理できるようにします。フォルダ名は英字256文字、日本語85文字に制限されます。

> [参考]
> オブジェクトストレージのフォルダはファイルシステムが提供するディレクトリとは概念が異なります。便宜のために提供する疑似(pseudo)フォルダです。フォルダを作成すると、実際には`{フォルダ-名前}/`という空のオブジェクトが作成されます。フォルダ内のオブジェクトは`{フォルダ-名前}/{オブジェクト-名前}`形式の名前を持ちます。オブジェクトコピー機能を利用して新しいフォルダにオブジェクトをコピーすると、`{フォルダ-名前}/`形式の空のオブジェクトではなく、`{フォルダ-名前}/{オブジェクト-名前}`形式のオブジェクトが作成されます。したがって、このコピーされたオブジェクトを削除する場合、フォルダまで削除されたように表示されます。あらかじめ作ったフォルダにコピーする時はフォルダのオブジェクトを削除してもフォルダが残っています。

### フォルダ削除
フォルダを削除します。フォルダを削除する前にフォルダが空になっているか確認する必要があります。フォルダ内にオブジェクトが残っている場合は削除できません。

### オブジェクトアップロード
すべてのオブジェクトはコンテナ内にアップロードする必要があります。オブジェクト1つの最大容量は5GBに制限されます。

> [参考]
> Webコンソールでは5GBを超えるファイルはアップロードできません。アップロードするオブジェクトの容量が5GBを超える場合は、`split`などのコマンドラインツールを使用して分割するか、ユーザーアプリケーションで5GB以下のサイズに分割してアップロードするようにプログラミングする必要があります。詳細な使用方法はAPIガイドの[マルチパートアップロード](api-guide/#_10)を参考にしてください。

### オブジェクトのダウンロード
選択したオブジェクトをダウンロードします。コンテナを作る時、コンテナアクセスポリシーを**PRIVATE**に設定している場合、許可されたユーザーのみオブジェクトにアクセスできます。**PUBLIC**に設定していると、リストで`URLコピー`ボタンを押してオブジェクトの公開URLを確認できます。このURLでオブジェクトのハイパーリンクを作成したり、オブジェクトを直接ダウンロードできます。

<details style="padding-top: 15px; padding-bottom: 10px;">
<summary>ハイパーリンク例</summary>
<ul style="padding-left: 10px; padding-top: 10px;">
<li>Webページ作成</li>

```
# cat > index.html
<html>
<body> hello world!
<a href="https://api-storage.cloud.toast.com/v1/{account}/{container}/{object}">Download</a>
</body>
</html>
```

<li>Python3のhttpモジュールを利用してWebサーバー実行</li>
```
# python -m http.server
Serving HTTP on :: port 8000 (http://[::]:8000/) ...
```

<li>Webブラウザで<b>http://localhost:8000</b>に接続した後、<b>Download</b>を押して正常にファイルがダウンロードできるかを確認</li>

</details>


### オブジェクトのコピー
オブジェクトをコピーして新しいオブジェクトを作成します。コピーするオブジェクトがあるコンテナに新しい名前のオブジェクトを作ったり、他のコンテナにオブジェクトをコピーできます。

> [参考]
> 入力することができるパスの最大長さはオブジェクト名によって変わります。コピーするパスにオブジェクト名を加えた長さが1024バイト以下である必要があります。
> `{パスの最大長さ} = 1024 - {オブジェクト名の長さ} - 1`

### オブジェクトの削除
選択したオブジェクトを削除します。マルチパートオブジェクトを削除するとセグメントオブジェクトも一緒に削除されます。

## プレフィックス検索
検索ウィンドウにプレフィックスを入力して**検索**ボタンを押すと、入力したプレフィックスで始まるコンテナ、フォルダ、オブジェクトを検索できます。コンテナリストではコンテナを、オブジェクトリストではフォルダとオブジェクトを検索します。

## S3 API認証情報
Amazon S3互換APIを使用するための認証情報を発行できます。S3 API認証情報は有効期限がなく、ユーザーごとにプロジェクトあたり最大3個まで発行できます。

> [注意]
> S3 API認証情報キーが漏洩すると、誰でも漏洩したキーを利用してオブジェクトにアクセスできます。キーが漏洩した場合は漏洩した認証情報を削除して、新しく発行して使用することを推奨します。
> 
