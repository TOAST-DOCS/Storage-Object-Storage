## 서드 파티 도구 사용 가이드

이 문서는 서드 파티 도구로 NHN Cloud 오브젝트 스토리지 서비스를 사용하는 방법을 설명합니다.

## Cyberduck

Cyberduck은 오픈소스 클라우드 스토리지 브라우저입니다.

### Cyberduck 설치

[Cyberduck 다운로드 페이지](https://cyberduck.io/download/)에서 사용 중인 운영 체제에 맞는 설치 파일을 다운로드해 설치합니다.

### 오브젝트 스토리지 연결 설정

#### Cyberduck 책갈피 설정

브라우저 상단의 `새 연결` 버튼을 클릭하여 새로운 프로필을 생성하고 추가 내용을 입력합니다.

드롭다운 메뉴에서 `Openstack Swift (Keystone 3)` 를 선택합니다.

| 항목 | 설명 |
|---|---|
| 별명 | 책갈피의 별칭입니다. 원하는 값으로 자유롭게 설정할 수 있습니다. |
| 서버 | 오브젝트 스토리지 서비스 페이지의 **API Endpoint 설정** 버튼을 클릭하여 확인할 수 있습니다.<br/> 콘솔 > **Storage** > **Object Storage** > **API 엔드포인트 설정** > **신원 서비스(identity)** 의 주소를 입력합니다. |
| Project:Domain:Username | Project : 사용자의 Project ID 입니다. 콘솔 상단 프로젝트 우측의 톱니바퀴 클릭 > **프로젝트 기본 정보** > **프로젝트 ID** 에서 확인할 수 있습니다.<br/>Domain : `Default`를 입력합니다. <br/> Username : NHN Cloud 사용자는 Email 주소를, IAM 사용자는 ID를 입력합니다. |
| 비밀번호 | 오브젝트 스토리지 서비스 페이지의 **API Endpoint 설정** 버튼을 클릭해 설정한 비밀번호를 입력합니다. |

추가 내용을 입력한 뒤, 하단의 `연결` 버튼을 클릭해서 새 책갈피를 생성합니다.

> [참고]
API 비밀번호 설정 방법은 [오브젝트 스토리지 API 가이드](api-guide/#_1) 항목을 참조하세요.

### 오브젝트 스토리지 연결

설정한 책갈피를 더블클릭하여 오브젝트 스토리지에 접속합니다.

### 컨테이너 / 오브젝트 조회

오브젝트 스토리지에 접속하면 **모든 리전**의 컨테이너 목록이 브라우저에 나타납니다. 원하는 컨테이너를 더블클릭하여 컨테이너 내 오브젝트를 조회할 수 있습니다.

> [참고]
> 서로 다른 리전에 같은 이름의 컨테이너가 있다면 동일한 이름의 컨테이너가 여러 개 표시됩니다.
> 메뉴의 **보기** > **열** > **지역** 을 선택해서 열 항목에 리전을 표시할 수 있습니다.

### 컨테이너 생성

컨테이너 목록의 빈 공간에서 우클릭 메뉴 > `새 폴더...` 를 통해서 새로운 컨테이너를 생성합니다. 생성할 컨테이너의 이름과 리전을 입력한 뒤 `생성` 버튼을 클릭하여 생성할 수 있습니다.

> [참고]
> 생성 완료 후 컨테이너 목록에 변화가 없을 떄 목록의 빈 공간에서 우클릭 메뉴 > `다시보기` 를 진행하여 목록을 업데이트할 수 있습니다.

### 오브젝트 업로드

컨테이너를 선택한 뒤 브라우저 상단의 `동작` > `업로드...` 를 클릭하거나 우클릭 메뉴 > `업로드...` 를 클릭하여 파일을 선택하고 업로드합니다. 끌어다 놓기로 파일을 업로드할 수도 있습니다.

> [참고]
>
> Cyberduck으로 폴더를 업로드하거나 생성하면 폴더 이름과 동일한 0바이트 오브젝트가 하나 더 생성됩니다. 이는 콘솔에서만 확인되며, 생성된 오브젝트는 제거해도 무관합니다.

### 오브젝트 다운로드

오브젝트를 선택한 후 우클릭 메뉴 > `내려받기` 를 클릭하여 다운로드합니다. 끌어다 놓기로 오브젝트를 다운로드할 수도 있습니다.


> [참고]
>
> 오브젝트를 다운로드하면 기본적으로 로컬의 **다운로드** 폴더로 저장됩니다. 특정 위치로 저장을 원하면 우클릭 메뉴 > **지정된 위치로 내려받기** 를 통해서 진행할 수 있습니다.
> 오브젝트를 업로드 / 다운로드하면 **전송** 창이 팝업되어 진행 상태를 파악할 수 있습니다.

### 컨테이너 삭제

삭제할 컨테이너를 선택 후 우클릭 메뉴 > `삭제`를 클릭하여 삭제합니다.

> [주의]
> 컨테이너 내부에 오브젝트가 있어도 전부 삭제됩니다.

### 오브젝트 삭제

삭제할 오브젝트를 선택 후 우클릭 메뉴 > `삭제`를 클릭하여 삭제합니다.

### 폴더 동기화

폴더를 직접 업로드 / 다운로드하여 오브젝트 스토리지와 동기화합니다.

컨테이너 또는 폴더를 선택하고 우클릭 메뉴 > `동기화`를 클릭하면 로컬 폴더를 선택한 컨테이너 또는 폴더와 동기화할 수 있습니다. 다운로드, 업로드, 미러, 세 가지 방식을 제공합니다.

#### 다운로드

로컬과 오브젝트 스토리지를 비교하여 변경되거나 누락된 오브젝트를 다운로드합니다.

#### 업로드

로컬과 오브젝트 스토리지를 비교하여 변경되거나 누락된 파일을 업로드합니다.

#### 미러

파일들은 로컬과 오브젝트 스토리지 양방향으로 전달되며, 변경되거나 누락된 파일 / 오브젝트를 업로드 / 다운로드합니다.

> [참고]
> 동기화에 대한 보다 자세한 내용은 [Cyberduck의 Synchronize Folders](https://docs.cyberduck.io/cyberduck/sync/#synchronize-folders) 문서를 참고하세요.

## SwiftStack Client

SwiftStack Client는 오브젝트 스토리지 플랫폼 SwiftStack에 포함된 클라이언트입니다.

### SwiftStack Client 설치

[SwiftStack Client 웹페이지](https://platform.swiftstack.com/docs/install/swiftstack_client.html)에서 사용 중인 운영 체제에 맞는 설치 파일을 다운로드해 설치합니다.

### 오브젝트 스토리지 연결 설정

#### 어카운트(Account) 등록

브라우저 좌측의 `Accounts` > `Add account` 를 통해서 어카운트를 등록합니다. 생성에 필요한 정보는 아래와 같습니다.

| 항목 | 설명 |
|---|---|
| Auth Type | **V2**를 선택합니다. |
| Username | NHN Cloud 사용자 Email 혹은 IAM 사용자 ID를 입력합니다. |
| Password | 오브젝트 스토리지 서비스 페이지의 **API Endpoint 설정** 버튼을 클릭해 설정한 비밀번호를 입력합니다. |
| Auth URL | 오브젝트 스토리지 서비스 페이지의 **API Endpoint 설정** 버튼을 클릭하여 확인할 수 있습니다.<br/> 콘솔 > **Storage** > **Object Storage** > **API 엔드포인트 설정** > **신원 서비스(identity)** 의 주소 끝에 '/tokens'를 붙여서 입력합니다. |
| Project Name | 사용자의 Project ID 입니다. <br/> 콘솔 상단 프로젝트 우측의 톱니바퀴 클릭 > **프로젝트 기본 정보** > **프로젝트 ID**에서 확인할 수 있습니다. |
| Region | 사용할 리전을 지정할 수 있습니다. |

입력값을 올바르게 입력한 뒤, 하단의 `Save`를 클릭해 새로운 어카운트를 생성합니다.

> [참고]
>
> API 비밀번호 설정 방법은 [오브젝트 스토리지 API 가이드](api-guide/#_1)의 `API 비밀번호 설정` 항목을 참조하세요.
> 입력값이 올바르지 않으면 Region을 지정할 때 오류 팝업창이 나타납니다.

### 오브젝트 스토리지 연결

생성한 어카운트를 더블클릭하여 오브젝트 스토리지에 접속합니다.

### 컨테이너 / 오브젝트 조회

오브젝트 스토리지에 접속하면 설정한 리전의 컨테이너 목록이 브라우저에 나타납니다. 원하는 컨테이너를 더블클릭하여 컨테이너 내 오브젝트를 조회할 수 있습니다.

### 컨테이너 생성

브라우저 상단의 `Add Container` > `Edit Before Creation` 을 클릭하고 대화 상자에서 컨테이너 이름을 입력합니다. 이름을 입력한 후 하단의 `Create`를 클릭해서 컨테이너 생성을 요청합니다.

> [참고]
> 생성 완료 후 컨테이너 목록에 변화가 없을 떄 브라우저 상단의 `Refresh` 를 클릭하여 목록을 업데이트할 수 있습니다.

### 오브젝트 업로드

오브젝트를 업로드할 컨테이너에서 브라우저 상단의 `Upload` 버튼을 클릭하면 업로드 대화 상자가 나타납니다. Choose File(s) 버튼을 클릭하여 업로드할 파일을 선택하고 `Upload` 버튼을 클릭해 업로드합니다. 끌어다 놓기로 업로드할 수도 있습니다.

> [참고]
>
> `Upload` 버튼을 통해서 2개 이상의 파일을 업로드하면 하단의 `Object Name Prefix`를 통해 업로드할 파일의 이름 앞에 접두사를 붙일 수 있습니다.

### 폴더 다운로드

폴더 우측의 `Actions` 항목에 있는 다운로드 버튼을 클릭해서 선택한 폴더와 내부의 모든 오브젝트를 다운로드합니다. 여러 폴더를 한 번에 다운받으려면 원하는 폴더를 목록 좌측 체크박스에서 체크한 뒤, 브라우저 상단의 `Selection` > `Download` 를 클릭해 다운로드합니다.

### 오브젝트 다운로드

오브젝트 이름을 클릭해 오브젝트 하나를 다운로드 할 수 있습니다.
오브젝트 목록의 좌측 체크박스를 이용해 다수의 오브젝트를 선택한 다음 브라우저 상단의 `Selection` > `Download`를 클릭하면 선택한 오브젝트를 모두 다운로드 할 수 있습니다.

### TempURLs

오브젝트 우측의 `Actions` 항목에 있는 `Copy Quick Temporary URL` 버튼을 클릭하면 사용 기한이 있는 접근 URL이 클립보드에 복사됩니다. 이 URL을 통해서 하이퍼링크를 만들거나 오브젝트를 직접 다운로드할 수 있습니다.
TempURL의 기본 사용 기한은 24시간이며, 브라우저 상단의 `Temp URLs`를 클릭해 변경할 수 있습니다.

> [주의]
> TempURL을 가진 사람은 누구나 기한 내에 오브젝트를 다운로드할 수 있습니다.

### 컨테이너 삭제

컨테이너 목록 우측의 `Actions` 항목에 있는 삭제 버튼을 통해서 원하는 컨테이너를 삭제합니다.

> [주의]
>
> 컨테이너 내부에 오브젝트이 있어도 전부 삭제됩니다.

### 오브젝트 삭제

오브젝트 / 폴더 목록 우측의 `Actions` 항목에 있는 삭제 버튼을 통해서 원하는 오브젝트를 삭제합니다. 원하는 오브젝트들을 목록 좌측 체크박스에서 체크한 뒤, 브라우저 상단의 `Selection` > `Delete` 로도 삭제할 수 있습니다.

## 참고 사이트
Cyberduck - [https://docs.cyberduck.io/cyberduck/](https://docs.cyberduck.io/cyberduck/)

SwiftStack Client - [https://platform.swiftstack.com/docs/install/swiftstack_client.html](https://platform.swiftstack.com/docs/install/swiftstack_client.html)